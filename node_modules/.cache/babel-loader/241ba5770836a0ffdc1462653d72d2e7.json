{"remainingRequest":"/myproject/git/code/web-admin-yxbaobei/node_modules/babel-loader/lib/index.js!/myproject/git/code/web-admin-yxbaobei/node_modules/cache-loader/dist/cjs.js??ref--0-0!/myproject/git/code/web-admin-yxbaobei/node_modules/vue-loader/lib/index.js??vue-loader-options!/myproject/git/code/web-admin-yxbaobei/src/views/permission/page.vue?vue&type=script&lang=js&","dependencies":[{"path":"/myproject/git/code/web-admin-yxbaobei/src/views/permission/page.vue","mtime":1576046635812},{"path":"/myproject/git/code/web-admin-yxbaobei/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/myproject/git/code/web-admin-yxbaobei/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/myproject/git/code/web-admin-yxbaobei/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/myproject/git/code/web-admin-yxbaobei/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es6.array.find-index\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nvar _permission = require(\"../../utils/permission\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = {\n  name: 'PagePermission',\n  data: function data() {\n    return {\n      dialogVisible: false,\n      dialogType: 'append',\n      page: {\n        name: ''\n      },\n      data: [],\n      pageList: []\n    };\n  },\n  created: function created() {\n    this.getPageList();\n  },\n  methods: {\n    // 角色切换\n    handleRolesChange: function handleRolesChange() {// this.$router.push({ path: '/permission/page?' + +new Date() })\n    },\n    Plist: function Plist(menuList) {\n      var data;\n      menuList.forEach(function (item, key) {\n        var menu;\n        menu = {\n          id: item.id,\n          label: item.name,\n          children: []\n        };\n\n        if (item.children.length) {\n          menu['children'] = this.Plist(item.children);\n        }\n\n        data.push(menu);\n      });\n      return data;\n    },\n    getPageList: function getPageList(roles) {\n      // const _this = this\n      this.pageList = (0, _permission.getRoutesTree)();\n      console.log(this.pageList, 'roles');\n    },\n    append: function append(data) {\n      var _this = this;\n\n      _this.dialogVisible = !_this.dialogVisible;\n      return;\n      var id = 91;\n      var newChild = {\n        id: id++,\n        label: 'testtest',\n        children: []\n      };\n\n      if (!data.children) {\n        this.$set(data, 'children', []);\n      }\n\n      data.children.push(newChild);\n    },\n    remove: function remove(node, data) {\n      var parent = node.parent;\n      var children = parent.data.children || parent.data;\n      var index = children.findIndex(function (d) {\n        return d.id === data.id;\n      });\n      children.splice(index, 1);\n    },\n    renderContent: function renderContent(h, _ref) {\n      var _this2 = this;\n\n      var node = _ref.node,\n          data = _ref.data,\n          store = _ref.store;\n      return h(\"span\", {\n        \"class\": \"custom-tree-node\"\n      }, [h(\"span\", [node.label]), h(\"span\", [h(\"el-button\", {\n        \"attrs\": {\n          \"size\": \"mini\",\n          \"type\": \"text\"\n        },\n        \"on\": {\n          \"click\": function click() {\n            return _this2.append(data);\n          }\n        }\n      }, [\"Append\"]), h(\"el-button\", {\n        \"attrs\": {\n          \"size\": \"mini\",\n          \"type\": \"text\"\n        },\n        \"on\": {\n          \"click\": function click() {\n            return _this2.remove(node, data);\n          }\n        }\n      }, [\"Delete\"])])]);\n    }\n  }\n};\nexports.default = _default;",null]}